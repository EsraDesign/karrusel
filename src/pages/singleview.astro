---
import MainLayout from '../layouts/MainLayout.astro'

import Header from "../components/Header.astro";

import Sliding from "../components/Sliding.astro";

import Footer from "../components/Footer.astro";

import Form from "../components/Form.astro";

const artists = await fetch(
  "https://awivsnmnfdowxppafuru.supabase.co/rest/v1/karrusel_lineup?",
  {
    method: "GET",
    headers: {
      apikey:
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3aXZzbm1uZmRvd3hwcGFmdXJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjkwOTE2NzYsImV4cCI6MjA0NDY2NzY3Nn0.qeq-bWPa4fkVhT8APkxi2bot4ZszWILcenniSoCmpcw",
    },
  }
).then((Response) => Response.json());

export async function getStaticPaths() {
  const data = await fetch(
    "https://awivsnmnfdowxppafuru.supabase.co/rest/v1/karrusel_lineup?",
    {
      method: "GET",
      headers: {
        apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3aXZzbm1uZmRvd3hwcGFmdXJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjkwOTE2NzYsImV4cCI6MjA0NDY2NzY3Nn0.qeq-bWPa4fkVhT8APkxi2bot4ZszWILcenniSoCmpcw",
      },
    }
  ).then((reponse) => reponse.json());

  return data.map((artist) => {
    return {
      params: { artist: artist.id },
      props: { myArtist: artist },
    };
  }); 
}
const { artist } = Astro.props;
console.log(artist);
---

<Header />
<MainLayout>
  <div class="center-container">
  <article class="artist-grid">
    <div class="artist-image">
      <img src="" alt="artist picture">
    </div>
    <div class="artist-info">
      <div class="artist-details">
        <p>Day</p>
        <p>Scene</p>
        <p>Time</p>
      </div>
      <h2 class="artist-name">Artist name</h2>
    </div>
  </article>
  </div>
  <Form></Form>
<Footer></Footer>
</MainLayout>

<style>
.center-container{
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
margin: 2rem;
}

  /* Main layout for artist info and image */
  .artist-grid {
    display: grid;
    grid-template-columns: auto 1fr; 
    align-items: center; 
    gap: 20px; 
  }

  /* Styling for the image */
  .artist-image img {
    width: 200px; 
    height: auto; 
  }

  /* Styling for the text and artist details */
  .artist-info {
    display: flex;
    align-items: center; 
    gap: 20px; 
  }

  /* Rotated artist name */
  h2.artist-name {
    transform: rotate(90deg); 
    white-space: nowrap; 
    align-self: center; 
  }

  /* Styling for artist details */
  .artist-details {
    display: flex;
    flex-direction: column;
    gap: 5px; 
  }

  /* Text styling */
  h2, p {
    color: white;
    font-family: Arial, Helvetica, sans-serif;
  }
</style>


  <!-- ---
const artists = await fetch("https://fetch-with-astro.netlify.app/api/artists").then(response => response.json());
---

<ul>
    {
        artists.map(artist => (
        <li>
            <h3>{artist.title}</h3>
            <p>{artist.type}</p>
            <img src={artist.og_image.url} alt="billede">
            </li>
            ))
    }
</ul>  -->
</MainLayout>
